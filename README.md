# Profanity2 - ä»¥å¤ªåŠé“å·åœ°å€ç”Ÿæˆå™¨

![Screenshot](/img/screenshot.png?raw=true "ä»¥å¤ªåŠé“å·åœ°å€ç”Ÿæˆ")

## ğŸš€ ç®€ä»‹

Profanity2 æ˜¯å®‰å…¨çš„ä»¥å¤ªåŠé“å·åœ°å€ç”Ÿæˆå™¨ï¼Œæ”¯æŒ GPU åŠ é€Ÿï¼Œèƒ½å¿«é€Ÿç”Ÿæˆè‡ªå®šä¹‰ä»¥å¤ªåŠåœ°å€ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ”’ **å®‰å…¨è®¾è®¡**ï¼šä¸ç›´æ¥ç”Ÿæˆç§é’¥ï¼Œä½¿ç”¨ç§å­å…¬é’¥+åç§»é‡æ–¹å¼ç¡®ä¿å®‰å…¨
- âš¡ **GPU åŠ é€Ÿ**ï¼šæ”¯æŒ NVIDIAã€AMDã€Intelã€Apple Silicon GPU
- ğŸ¯ **å¤šç§æ¨¡å¼**ï¼šå‰å¯¼å­—ç¬¦ã€ç‰¹å®šå­—ç¬¦ä¸²ã€å¤´å°¾åŒ¹é…ç­‰
- ğŸ”‘ **è‡ªåŠ¨è®¡ç®—**ï¼šæ–°å¢è‡ªåŠ¨è®¡ç®—æœ€ç»ˆç§é’¥åŠŸèƒ½ï¼Œæ— éœ€æ‰‹åŠ¨è®¡ç®—

### ğŸ macOS ä¼˜åŒ–

- âœ… **Apple Silicon åŸç”Ÿæ”¯æŒ**ï¼šM1/M2/M3/M4 ç³»åˆ—èŠ¯ç‰‡ä¼˜åŒ–
- âœ… **Metal æ€§èƒ½åº“**ï¼šåˆ©ç”¨ Apple åŸç”Ÿå›¾å½¢æ€§èƒ½
- âœ… **æ— éœ€é¢å¤–é©±åŠ¨**ï¼šå¼€ç®±å³ç”¨

## ğŸ”§ å®‰è£…å’Œç¼–è¯‘

### ç³»ç»Ÿè¦æ±‚

- **macOS**: Xcode å‘½ä»¤è¡Œå·¥å…·
- **Ubuntu/Debian**: `sudo apt install build-essential opencl-headers`
- **Windows**: Visual Studio Build Tools 2019+

### ç¼–è¯‘

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/1inch/profanity2.git
cd profanity2

# ç¼–è¯‘ (macOS/Linux)
make

# éªŒè¯ç¼–è¯‘
./profanity2 --help
```

## ğŸ”‘ ä½¿ç”¨æ–¹æ³•

### ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆç§å­å¯†é’¥

```bash
# ç”Ÿæˆå¯†é’¥å¯¹
python3 gen_eth_key.py
```

è¾“å‡ºï¼š

```
ç§é’¥å·²ä¿å­˜åˆ° key.pem
å…¬é’¥å·²ä¿å­˜åˆ° pub.pem
å…¬é’¥128å­—ç¬¦hex: df49896fb5c9aea080e0d931be39495b6c726a7739b69cc08ac7481ca4b3a2687e606e91c646e45c516645a8881e34290fc57313c81f6ee87b659b3da5033fde
```

### ç¬¬äºŒæ­¥ï¼šæå–ç§å­ç§é’¥ï¼ˆæ–°åŠŸèƒ½ï¼‰

```bash
# æå–ç§å­ç§é’¥ç”¨äºè‡ªåŠ¨è®¡ç®—
python3 extract_private_key.py
```

### ç¬¬ä¸‰æ­¥ï¼šç”Ÿæˆé“å·åœ°å€

#### æ–¹æ³• 1ï¼šè‡ªåŠ¨è®¡ç®—æœ€ç»ˆç§é’¥ï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨ -k å‚æ•°ï¼Œç¨‹åºä¼šè‡ªåŠ¨è®¡ç®—æœ€ç»ˆç§é’¥
./profanity2 --leading f -z [128å­—ç¬¦å…¬é’¥] -k [64å­—ç¬¦ç§å­ç§é’¥]
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
Time: 25s Score: 8 Private: 0x001234... Address: 0xfffffff7...
  ğŸ”‘ æœ€ç»ˆç§é’¥: 0x25af55d146c7fed0e449c4ac04e58e56d5a2887ba273963e796482acca373cc6
```

#### æ–¹æ³• 2ï¼šæ‰‹åŠ¨è®¡ç®—ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰

```bash
# ä¸ä½¿ç”¨ -k å‚æ•°
./profanity2 --leading f -z [128å­—ç¬¦å…¬é’¥]

# æ‰‹åŠ¨è®¡ç®—æœ€ç»ˆç§é’¥
python3 calculate_final_key.py [ç§å­ç§é’¥] [ç¨‹åºè¾“å‡ºç§é’¥]
```

## ğŸ¯ å¸¸ç”¨æ¨¡å¼

```bash
# å‰å¯¼å­—ç¬¦
./profanity2 --leading 8 -z [å…¬é’¥] -k [ç§å­ç§é’¥]      # ä»¥8å¼€å¤´
./profanity2 --leading 0 -z [å…¬é’¥] -k [ç§å­ç§é’¥]      # ä»¥0å¼€å¤´

# ç‰¹å®šå­—ç¬¦ä¸²
./profanity2 --matching dead -z [å…¬é’¥] -k [ç§å­ç§é’¥]  # åŒ…å«dead
./profanity2 --matching 888888 -z [å…¬é’¥] -k [ç§å­ç§é’¥] # åŒ…å«888888

# å¤´å°¾åŒ¹é…
./profanity2 --head-tail 888,fff -z [å…¬é’¥] -k [ç§å­ç§é’¥]  # 888å¼€å¤´fffç»“å°¾

# æœ€å¤šé›¶å­—ç¬¦
./profanity2 --zeros -z [å…¬é’¥] -k [ç§å­ç§é’¥]          # åŒ…å«æœ€å¤šé›¶

# åˆçº¦åœ°å€
./profanity2 --contract --leading 0 -z [å…¬é’¥] -k [ç§å­ç§é’¥]
```

## ğŸ“Š æ€§èƒ½å‚è€ƒ

| GPU å‹å·             | é€Ÿåº¦      | 8 å­—ç¬¦åŒ¹é…æ—¶é—´ |
| -------------------- | --------- | -------------- |
| Apple M4 Max (40 æ ¸) | 350 MH/s  | ~12 ç§’         |
| Apple M1 Max (32 æ ¸) | 172 MH/s  | ~25 ç§’         |
| RTX 4090             | 1096 MH/s | ~3 ç§’          |
| GTX 1070             | 163 MH/s  | ~26 ç§’         |
| Apple M1 (8 æ ¸)      | 45 MH/s   | ~97 ç§’         |

## ğŸ”§ é«˜çº§è®¾ç½®

```bash
# æ€§èƒ½è°ƒä¼˜
./profanity2 --leading f -z [å…¬é’¥] -k [ç§å­ç§é’¥] \
  --work 128 \                    # å·¥ä½œå¤§å°
  --inverse-multiple 16384        # å¹¶è¡Œå€æ•°

# è·³è¿‡è®¾å¤‡
./profanity2 --skip 0 --leading f -z [å…¬é’¥] -k [ç§å­ç§é’¥]

# ç¦ç”¨ç¼“å­˜
./profanity2 --no-cache --leading f -z [å…¬é’¥] -k [ç§å­ç§é’¥]
```

## âš ï¸ å®‰å…¨æé†’

1. **æœ€ç»ˆç§é’¥å®‰å…¨**ï¼šåªæœ‰æœ€ç»ˆç§é’¥æ‰èƒ½å¯¼å…¥é’±åŒ…ï¼Œä¸è¦ä½¿ç”¨ç¨‹åºç›´æ¥è¾“å‡ºçš„ç§é’¥
2. **ç§å­ç§é’¥ä¿æŠ¤**ï¼šå¦¥å–„ä¿ç®¡ `key.pem` æ–‡ä»¶ï¼Œä¸è¦æ³„éœ²
3. **ç¦»çº¿è®¡ç®—**ï¼šç§é’¥è®¡ç®—å»ºè®®åœ¨ç¦»çº¿ç¯å¢ƒè¿›è¡Œ
4. **å°é¢æµ‹è¯•**ï¼šä½¿ç”¨å‰å…ˆå¯¼å…¥å°é¢èµ„é‡‘æµ‹è¯•åœ°å€æ­£ç¡®æ€§

## ğŸ“ å®Œæ•´ä½¿ç”¨ç¤ºä¾‹

```bash
# 1. ç”Ÿæˆå¯†é’¥å¯¹
python3 gen_eth_key.py

# 2. æå–ç§å­ç§é’¥
python3 extract_private_key.py

# 3. ç”Ÿæˆä»¥888å¼€å¤´çš„åœ°å€å¹¶è‡ªåŠ¨è®¡ç®—æœ€ç»ˆç§é’¥
./profanity2 --leading 8 \
  -z df49896fb5c9aea080e0d931be39495b6c726a7739b69cc08ac7481ca4b3a2687e606e91c646e45c516645a8881e34290fc57313c81f6ee87b659b3da5033fde \
  -k 25af3e6788269b0a5b0bc6b232fbe32c4d53b9c8d269ead0c5b99754962b97e6

# 4. å°†è¾“å‡ºçš„æœ€ç»ˆç§é’¥å¯¼å…¥é’±åŒ…
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

**ç¼–è¯‘é”™è¯¯ï¼ˆmacOSï¼‰**ï¼š

```bash
export SDKROOT=$(xcrun --show-sdk-path)
make clean && make
```

**Python åº“é”™è¯¯**ï¼š

```bash
pip3 install --upgrade cryptography
```

**æ€§èƒ½é—®é¢˜**ï¼š

```bash
# é™ä½å‚æ•°
./profanity2 --leading f -z [å…¬é’¥] -k [ç§å­ç§é’¥] --inverse-multiple 8192
```

## ğŸ“š å‚æ•°è¯´æ˜

| å‚æ•°                            | è¯´æ˜                          |
| ------------------------------- | ----------------------------- |
| `-z, --publicKey`               | 128 å­—ç¬¦ç§å­å…¬é’¥ï¼ˆå¿…éœ€ï¼‰      |
| `-k, --seed-private-key`        | 64 å­—ç¬¦ç§å­ç§é’¥ï¼ˆå¯é€‰ï¼Œæ¨èï¼‰ |
| `--leading <å­—ç¬¦>`              | å‰å¯¼å­—ç¬¦åŒ¹é…                  |
| `--matching <å­—ç¬¦ä¸²>`           | ç‰¹å®šå­—ç¬¦ä¸²åŒ¹é…                |
| `--head-tail <æ¨¡å¼>`            | å¤´å°¾åŒ¹é…ï¼Œæ ¼å¼ï¼šhead,tail     |
| `--zeros`                       | æœ€å¤šé›¶å­—ç¬¦                    |
| `--contract`                    | ç”Ÿæˆåˆçº¦åœ°å€                  |
| `-w, --work <å¤§å°>`             | OpenCL å·¥ä½œå¤§å°               |
| `-I, --inverse-multiple <å€æ•°>` | å¹¶è¡Œå€æ•°                      |

## ğŸ™ è‡´è°¢

- åŸå§‹é¡¹ç›®ï¼šJohan Gustafsson
- å®‰å…¨æ”¹è¿›ï¼š1inch Network
- macOS ä¼˜åŒ–ï¼šç¤¾åŒºè´¡çŒ®

---

**å…è´£å£°æ˜**ï¼šè¯·å§‹ç»ˆéªŒè¯ç”Ÿæˆçš„ç§é’¥å¯¹åº”æ­£ç¡®çš„å…¬é’¥ã€‚å»ºè®®åœ¨æµ‹è¯•ç¯å¢ƒä¸­éªŒè¯åŠŸèƒ½æ­£ç¡®æ€§ã€‚
